{"version": 3,"file": "",
"sourceroot": "",
"sources": ["commission/pages/poster/index.js","commission/pages/qrcode/index.js","commission/pages/index.js","commission/pages/log/index.js","commission/pages/log/detail.js","commission/pages/down/index.js","commission/pages/apply/index.js","commission/pages/withdraw/index.js","commission/pages/order/index.js","commission/pages/register/index.js","commission/pages/return/index.js"],
"names": ["app","getApp","core","requirejs","foxui","touchDot","startY","time","interval","Page","data","full","scrollleft","margin","showloading","accredit","index","errMsg","check","posterArr","onLoad","$this","this","wx","getSystemInfo","success","res","posterwidth","screenWidth","windowHeight","setData","json","ret","error","poster","posterboxwidth","length","getImage","redirectTo","url","toast","message","onshow","savePicture","getSetting","authSetting","showLoading","title","setTimeout","hideLoading","downloadFile","saveImageToPhotosAlbum","filePath","tempFilePath","fail","authorize","scope","showModal","content","arr","requestImg","thumb","id","touchStart","e","touches","pageX","pageY","setInterval","touchMove","moveY","diff","touchEnd","endY","Math","abs","differ","clearInterval","left","pre","next","loadImg","lgimgheight","detail","height","pdata","posterLoaded","thumbLoaded","enlarge","ensmall","showimage","options","onShow","getData","get","show","post","checkAuth","setNavigationBarTitle","set","texts","center","status","page","list","getList","onReachBottom","loaded","total","onPullDownRefresh","stopPullDownRefresh","pagesize","commissioncount","textyuan","textcomm","textcomd","concat","myTab","level","getSet","textdown","result","$","isEmptyObject","type_array","alert","navigateBack","isArray","last_data","alipay1","alipay","bankcard1","bankcard","bankIndex","typeChange","val","currentTarget","dataset","name","applytype","bankChange","value","inputChange","realinfo","bindtype","type","trim","submit","event","confirm_msg","cansettle","isSubmit","html","postData","realname","banklist","bankname","set_array","deductionmoney","realmoney","confirm","code","getCache","isIpx","iphonexnavbar","paddingb","commission1","toggleSend","withdraw","navigateTo","openorderdetail","openorderbuyer","textorder","diyform","areas","agent","f_data","fields","target","member.realname","member.mobile","member.weixin","member.icode","template_flag","member","mobile","memberdata","verify","agentid","mid","icode","weixin","switchTab","DiyFormHandler","selectArea","bindChange","onCancel","onConfirm","getIndex","str","info","day"],
"mappings": "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",
"sourcesContent": ["// pages/commission/poster/index.js\r\nvar app = getApp();\r\nvar core = app.requirejs('core');\r\nvar foxui = app.requirejs('foxui');\r\nvar touchDot = 0;\r\nvar startY = 0;\r\nvar time = 0;\r\nvar interval = \"\";\r\nPage({\r\n    data: {\r\n        full: false,\r\n        scrollleft: '',\r\n        margin: '',\r\n        showloading: true,\r\n        accredit: '',\r\n        index: 0,\r\n        errMsg: '',\r\n        check: \"/static/images/check.png\",\r\n\r\n        posterArr: []\r\n    },\r\n    onLoad: function () {\r\n        var $this = this\r\n        wx.getSystemInfo({\r\n            success: function (res) {\r\n                var posterwidth = res.screenWidth;\r\n                var windowHeight = res.windowHeight;\r\n                $this.setData({\r\n                    posterwidth: posterwidth,\r\n                    windowHeight: windowHeight,\r\n                    index: 0\r\n                })\r\n            }\r\n        });\r\n\r\n        core.json('commission/poster', {}, function (ret) {\r\n            if(ret.error==0){\r\n                $this.setData({\r\n                    posterArr: ret.poster || [],\r\n                    posterboxwidth: $this.data.posterwidth * ret.poster.length\r\n                });\r\n                $this.getImage(0);\r\n            }\r\n            else if(ret.error==70000){\r\n                wx.redirectTo({\r\n                    url:'../register/index'\r\n                });\r\n                return;\r\n            }\r\n            else if (ret.error == 70001){\r\n                wx.redirectTo({\r\n                    url:'/pages/member/info/index'\r\n                });\r\n                return;\r\n            }\r\n            else{\r\n                foxui.toast($this, ret.message);\r\n            }\r\n        });\r\n    },\r\n\r\n    onshow: function () {\r\n        this.setData({index: 0});\r\n    },\r\n\r\n    // 点击保存图片\r\n    savePicture: function () {\r\n        var $this = this;\r\n        wx.getSetting({\r\n            success: function (res) {\r\n                var accredit = res.authSetting['scope.writePhotosAlbum']\r\n                if (accredit) {\r\n                    wx.showLoading({\r\n                        title: '图片下载中...',\r\n                    })\r\n                    setTimeout(function () {\r\n                        wx.hideLoading()\r\n                    }, 1000);                \r\n\r\n                    wx.downloadFile({\r\n                        url: $this.data.posterArr[$this.data.index].poster,\r\n                        success: function (res) {\r\n                            wx.saveImageToPhotosAlbum({\r\n                                filePath: res.tempFilePath,\r\n                                success: function (ret) {\r\n                                    foxui.toast($this, \"保存图片成功\");\r\n                                },\r\n                                fail: function (ret) {\r\n                                    $this.setData({errMsg: ret.errMsg})\r\n                                    foxui.toast($this, \"保存图片失败\");\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                } else {\r\n                    wx.authorize({\r\n                        scope: 'scope.writePhotosAlbum',\r\n                        fail: function () {\r\n                            /*获取权限时点击了拒绝以后的弹窗*/\r\n                            wx.showModal({\r\n                                title: '警告',\r\n                                content: '您点击了拒绝授权，将无法正常使用保存图片或视频的功能体验，请删除小程序重新进入。'\r\n                            })\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    },\r\n\r\n    // 获取图片\r\n    getImage: function (index) {\r\n        var arr = this.data.posterArr, $this = this;\r\n        setTimeout(function () {\r\n            if ($this.data.full == true) {\r\n                if (arr[index].poster) {\r\n                    return;\r\n                }\r\n                $this.requestImg(index);\r\n            } else {\r\n                if (arr[index].thumb) {\r\n                    return;\r\n                }\r\n                $this.requestImg(index);\r\n            }\r\n        }, 10)\r\n    },\r\n\r\n    // 请求 获取图片\r\n    requestImg: function (index) {\r\n        var arr = this.data.posterArr, $this = this;\r\n        $this.setData({\r\n            showloading: true\r\n        });\r\n        core.json('commission/poster/getimage', {\r\n            id: arr[index].id\r\n        }, function (ret) {\r\n            \r\n            if(ret.error == 0){\r\n                arr[index].thumb = ret.thumb;\r\n                arr[index].poster = ret.poster;\r\n                $this.setData({\r\n                    posterArr: arr\r\n                });\r\n            }else{\r\n                foxui.toast($this, \"保存图片失败\");\r\n            }\r\n\r\n        });\r\n    },\r\n\r\n    // 触摸开始事件\r\n    touchStart: function (e) {\r\n        touchDot = e.touches[0].pageX;\r\n        startY = e.touches[0].pageY;\r\n        interval = setInterval(function () {\r\n            time++;\r\n        }, 1000);\r\n    },\r\n\r\n    // 触摸移动事件\r\n    touchMove: function (e) {\r\n        var touchMove = e.touches[0].pageX;\r\n        var moveY = e.touches[0].pageY;\r\n        this.setData({\r\n          moveY: moveY,\r\n          touchMove: touchMove\r\n        })\r\n        \r\n        // 向左滑动\r\n        if (touchMove - touchDot <= -60 && time < 10) {\r\n            this.setData({\r\n                diff: touchMove - touchDot,\r\n                touchMove: touchMove\r\n            })\r\n        }\r\n        // 向右滑动\r\n        if (touchMove - touchDot >= 60 && time < 10) {\r\n            this.setData({\r\n                diff: touchMove - touchDot\r\n            })\r\n        }\r\n    },\r\n\r\n    // 触摸结束事件\r\n    touchEnd: function (e) {\r\n        var index = this.data.index\r\n        var endY = Math.abs(this.data.moveY - startY)\r\n        var endX = Math.abs(this.data.touchMove - touchDot)\r\n        var differ = endX - endY\r\n        clearInterval(interval);\r\n        time = 0;\r\n        if (this.data.diff > 40 && differ>0) {\r\n            if (index == 0) {\r\n                index = 0\r\n            } else {\r\n                index--\r\n            }\r\n        } else if (this.data.diff < -40 && differ > 0) {\r\n            if (index == this.data.posterArr.length-1) {\r\n                index = this.data.posterArr.length-1\r\n            } else {\r\n                index++\r\n            }\r\n        }\r\n        var left = index * this.data.posterwidth;\r\n        this.setData({\r\n            left: left,\r\n            diff: 0,\r\n            index: index\r\n        })\r\n        this.getImage(index);\r\n    },\r\n\r\n    pre: function () {\r\n        var index = this.data.index\r\n        if (index == 0) {\r\n            index = 0\r\n        } else {\r\n            index--\r\n        }\r\n        var left = index * this.data.posterwidth;\r\n        this.setData({\r\n            left: left,\r\n            index: index\r\n        })\r\n        this.getImage(index);\r\n    },\r\n\r\n    next: function () {\r\n        var index = this.data.index;\r\n        if (index == this.data.posterArr.length-1) {\r\n            index = this.data.posterArr.length-1\r\n        } else {\r\n            index++\r\n        }\r\n        var left = index * this.data.posterwidth;\r\n        this.setData({\r\n            left: left,\r\n            index: index\r\n        })\r\n        this.getImage(index);\r\n    },\r\n\r\n    loadImg: function (e) {\r\n        var arr = this.data.posterArr,\r\n            lgimgheight = e.detail.height,\r\n            index = core.pdata(e).index,\r\n            poster = core.pdata(e).poster;\r\n\r\n        if(poster){\r\n            arr[index].posterLoaded = true;\r\n        }else{\r\n            arr[index].thumbLoaded = true;\r\n        }\r\n        this.setData({\r\n            lgimgheight: lgimgheight,\r\n            showloading: false,\r\n            posterArr: arr\r\n        })\r\n    },\r\n\r\n    enlarge: function () {\r\n        this.setData({\r\n            full: true\r\n        })\r\n        this.getImage(this.data.index);\r\n    },\r\n\r\n    ensmall: function () {\r\n        this.setData({\r\n            full: false\r\n        })\r\n        this.getImage(this.data.index);\r\n    }\r\n})  ","/**\r\n *\r\n * commission/index.js\r\n *\r\n * @create 2017-2-6\r\n * @author Young\r\n *\r\n * @update  Young 2017-2-6\r\n *\r\n */\r\nvar app = getApp(),core=app.requirejs('core');\r\nPage({\r\n    data: {\r\n        showimage: false\r\n    },\r\n    onLoad: function (options) {\r\n        //页面初始化 options为页面跳转所带来的参数\r\n    },\r\n    onShow: function () {\r\n        this.getData();\r\n    },\r\n    getData: function () {\r\n        var $this=this;\r\n        core.get('commission/qrcode',{},function (json) {\r\n            if (json.error == 70001){\r\n                wx.redirectTo({\r\n                    url:'/pages/member/info/index'\r\n                });\r\n                return;\r\n            }\r\n            json.show=true;\r\n            $this.setData(json);\r\n            $this.getImage();\r\n        });\r\n    },\r\n    getImage: function () {\r\n        var $this=this;\r\n        core.post('commission/qrcode',{},function (json) {\r\n            if (json.error == 70001){\r\n                wx.redirectTo({\r\n                    url:'/pages/member/info/index'\r\n                });\r\n                return;\r\n            }\r\n            json.showimage=true;\r\n            $this.setData(json);\r\n        });\r\n    }\r\n});","/**\r\n *\r\n * commission/index.js\r\n *\r\n * @create 2017-2-6\r\n * @author Young\r\n *\r\n * @update  Young 2017-2-6\r\n *\r\n */\r\nvar app = getApp(),core=app.requirejs('core');\r\nPage({\r\n    data: {},\r\n    onLoad: function (options) {\r\n        //页面初始化 options为页面跳转所带来的参数 \r\n      app.checkAuth();\r\n      var $this = this;\r\n      $this.setData({ options: options });\r\n    },\r\n    onShow: function () {\r\n        this.getData();\r\n    },\r\n    getData: function () {\r\n        var $this=this;\r\n        core.get('commission/index',{},function (json) {\r\n            if (json.error == 70000){\r\n                wx.redirectTo({\r\n                    url:'../../commission/pages/register/index'\r\n                });\r\n                return;\r\n            }\r\n            json.show=true;\r\n            $this.setData(json);\r\n            wx.setNavigationBarTitle({\r\n              title: json.set.texts.center\r\n            })\r\n        });\r\n    }\r\n});","/**\r\n *\r\n * commission/down/index.js\r\n *\r\n * @create 2017-02-09\r\n * @author 晚秋\r\n *\r\n * @update  晚秋 2017-02-09\r\n *\r\n */\r\nvar app = getApp(),core=app.requirejs('core');\r\n\r\nPage({\r\n    data: {\r\n        status: 0,\r\n        page: 1,\r\n        list: []\r\n    },\r\n    onLoad: function () {\r\n        this.getList();\r\n    },\r\n    onReachBottom: function () {\r\n        if (this.data.loaded || this.data.list.length==this.data.total) {\r\n            return;\r\n        }\r\n        this.getList();\r\n    },\r\n    onPullDownRefresh: function () {\r\n        wx.stopPullDownRefresh()\r\n    },\r\n    getList: function () {\r\n        var $this = this;\r\n        core.get('commission/log/get_list', {page: $this.data.page, status: $this.data.status}, function (ret) {\r\n            var data = {total: ret.total, pagesize: ret.pagesize, commissioncount: ret.commissioncount, textyuan: ret.textyuan, textcomm:ret.textcomm, textcomd: ret.textcomd, show: true};\r\n            if (ret.list.length > 0) {\r\n                data.page = $this.data.page + 1;\r\n                data.list = $this.data.list.concat(ret.list);\r\n                if(ret.list.length<ret.pagesize) {\r\n                    data.loaded = true\r\n                }\r\n            }\r\n            $this.setData(data);\r\n            wx.setNavigationBarTitle({title: ret.textcomd+\"(\"+ret.total+\")\"});\r\n        }, this.data.show);\r\n    },\r\n    myTab: function (e) {\r\n        var $this = this;\r\n        var status = core.pdata(e).status;\r\n        $this.setData({status: status, page: 1, list: []});\r\n        $this.getList();\r\n    }\r\n})","/**\r\n *\r\n * commission/down/index.js\r\n *\r\n * @create 2017-02-09\r\n * @author 晚秋\r\n *\r\n * @update  晚秋 2017-02-09\r\n *\r\n */\r\nvar app = getApp(), core = app.requirejs('core');\r\n\r\nPage({\r\n    data: {\r\n        page: 1,\r\n        list: []\r\n    },\r\n    onLoad: function (options) {\r\n        if(options.id>0){\r\n            this.setData({id: options.id})\r\n        }\r\n        this.getList();\r\n    },\r\n    onReachBottom: function () {\r\n        if (this.data.loaded || this.data.list.length==this.data.total) {\r\n            return;\r\n        }\r\n        this.getList();\r\n    },\r\n    onPullDownRefresh: function () {\r\n        wx.stopPullDownRefresh()\r\n    },\r\n    getList: function () {\r\n        var $this = this;\r\n        core.get('commission/log/detail_list', {page: $this.data.page, id: $this.data.id}, function (ret) {\r\n            var data = {total: ret.total, pagesize: ret.pagesize, show: true, textyuan: ret.textyuan, textcomm: ret.textcomm};\r\n            if (ret.list.length > 0) {\r\n                data.page = $this.data.page + 1;\r\n                data.list = $this.data.list.concat(ret.list);\r\n                if(ret.list.length<ret.pagesize) {\r\n                    data.loaded = true\r\n                }\r\n            }\r\n            $this.setData(data);\r\n        }, this.data.show);\r\n    }\r\n})","/**\r\n *\r\n * commission/down/index.js\r\n *\r\n * @create 2017-02-09\r\n * @author 晚秋\r\n *\r\n * @update  晚秋 2017-02-09\r\n *\r\n */\r\nvar app = getApp(),core=app.requirejs('core');\r\n\r\nPage({\r\n    data: {\r\n        level: 1,\r\n        page: 1,\r\n        list: []\r\n    },\r\n    onLoad: function () {\r\n        this.getSet();\r\n        this.getList();\r\n    },\r\n    onReachBottom: function () {\r\n        if (this.data.loaded || this.data.list.length==this.data.total) {\r\n            return;\r\n        }\r\n        this.getList();\r\n    },\r\n    onPullDownRefresh: function () {\r\n        wx.stopPullDownRefresh()\r\n    },\r\n    getSet: function () {\r\n        var $this = this;\r\n        core.get('commission/down/get_set', {}, function (ret) {\r\n            wx.setNavigationBarTitle({title: ret.textdown+\"(\"+ret.total+\")\"});\r\n            delete ret.error;\r\n            ret.show = true;\r\n            $this.setData(ret);\r\n        });\r\n    },\r\n    getList: function () {\r\n        var $this = this;\r\n        core.get('commission/down/get_list', {page: $this.data.page, level: $this.data.level}, function (result) {\r\n            var data = {total: result.total, pagesize: result.pagesize};\r\n            if (result.list.length > 0) {\r\n                data.page = $this.data.page + 1;\r\n                data.list = $this.data.list.concat(result.list);\r\n                if(result.list.length<result.pagesize) {\r\n                    data.loaded = true\r\n                }\r\n            }\r\n            $this.setData(data);\r\n        }, this.data.show);\r\n    },\r\n    myTab: function (e) {\r\n        var $this = this;\r\n        var level = core.pdata(e).level;\r\n        $this.setData({level: level, page: 1, list: []});\r\n        $this.getList();\r\n    }\r\n})","/**\r\n *\r\n * commission/apply/index.js\r\n *\r\n * @create 2017-2-7\r\n * @author Young\r\n *\r\n * @update  Young 2017-2-7\r\n *\r\n */\r\nvar app = getApp(), core = app.requirejs('core'),$=app.requirejs('jquery'),foxui=app.requirejs('foxui');\r\nPage({\r\n    data: {},\r\n    onShow: function () {\r\n        this.getData();\r\n    },\r\n    getData: function () {\r\n        var $this = this;\r\n        core.get('commission/apply', {}, function (json) {\r\n            if (!$.isEmptyObject(json.type_array)){\r\n                json.show = true;\r\n                if($.isArray(json.last_data)){\r\n                    json.last_data = {};\r\n                }\r\n                if (json.last_data){\r\n                    json.last_data.alipay1 =  json.last_data.alipay;\r\n                    json.last_data.bankcard1 = json.last_data.bankcard;\r\n                }\r\n                json.bankIndex = json.bankIndex||0;\r\n                $this.setData(json);\r\n            }else{\r\n                core.alert(json.message || '没有提现方式!');\r\n                setTimeout(function () {\r\n                    if (json.error == 70001){\r\n                      wx.redirectTo({\r\n                            url: '/pages/member/info/index'\r\n                        });\r\n                    }else{\r\n                        wx.navigateBack();\r\n                    }\r\n                },2000);\r\n            }\r\n        },false,true);\r\n    },\r\n    typeChange: function (e) {\r\n       \r\n        var val = e.currentTarget.dataset.name;\r\n        \r\n        this.setData({ applytype: val });\r\n    },\r\n    bankChange: function (e) {\r\n        var val = e.detail.value;\r\n        this.setData({bankIndex:val});\r\n    },\r\n    inputChange: function (e) {\r\n        var realinfo = this.data.last_data;\r\n        var bindtype = e.currentTarget.dataset.type,value = $.trim(e.detail.value);\r\n        realinfo[bindtype]=value;\r\n        this.setData({last_data: realinfo});\r\n    },\r\n    submit: function (event) {\r\n        var $this=this, data=this.data,confirm_msg;\r\n        if(!data.cansettle || data.isSubmit){\r\n            return;\r\n        }\r\n        //mjy 弹窗提示\r\n        if (data.applytype==0){\r\n          var html = \"提现到余额\"\r\n        } else if (data.applytype ==1){\r\n          var html = \"提现到微信钱包\"\r\n\r\n        } else if (data.applytype == 2) {\r\n          var html = \"提现到支付宝\"\r\n\r\n        } else if (data.applytype ==3) {\r\n          var html = \"提现到银行卡\"\r\n\r\n        }\r\n     \r\n        var postData = {type: data.applytype};\r\n       \r\n        if(data.applytype==2){\r\n            if(!data.last_data.realname){\r\n                foxui.toast($this, \"请填写姓名\");\r\n                return;\r\n            }\r\n            if(!data.last_data.alipay){\r\n                foxui.toast($this, \"请填写支付宝帐号\");\r\n                return;\r\n            }\r\n            if(!data.last_data.alipay1){\r\n                foxui.toast($this, \"请确认支付宝帐号\");\r\n                return;\r\n            }\r\n            if(data.last_data.alipay != data.last_data.alipay1){\r\n                foxui.toast($this, \"两次填写的支付宝不一致\");\r\n                return;\r\n            }\r\n            html += \"？姓名:\" + data.last_data.realname + \" 支付宝帐号:\" + data.last_data.alipay;\r\n            postData.realname = data.last_data.realname;\r\n            postData.alipay = data.last_data.alipay;\r\n            postData.alipay1 = data.last_data.alipay1;\r\n           \r\n        }\r\n        \r\n        else if(data.applytype==3){\r\n            if(!data.banklist[data.bankIndex]['bankname']){\r\n                foxui.toast($this, \"请选择提现银行\");\r\n                return;\r\n            }\r\n            if(!data.last_data.realname){\r\n                foxui.toast($this, \"请填写姓名\");\r\n                return;\r\n            }\r\n            if(!data.last_data.bankcard){\r\n                foxui.toast($this, \"请填写银行卡号\");\r\n                return;\r\n            }\r\n            if(!data.last_data.bankcard1){\r\n                foxui.toast($this, \"请确认银行卡号\");\r\n                return;\r\n            }\r\n            if(data.last_data.bankcard != data.last_data.bankcard1){\r\n                foxui.toast($this, \"两次填写的银行卡号不一致\");\r\n                return;\r\n            }\r\n            html += \"？姓名:\" + data.last_data.realname + \" 银行:\" + data.banklist[data.bankIndex]['bankname'] + \" 卡号:\" + data.last_data.bankcard;\r\n            postData.realname = data.last_data.realname;\r\n            postData.bankname = data.banklist[data.bankIndex]['bankname'];\r\n            postData.bankcard = data.last_data.bankcard;\r\n            postData.bankcard1 = data.last_data.bankcard1;\r\n            \r\n        }\r\n        if (data.applytype < 2) {\r\n            confirm_msg = '确认要' + html + \"？\";\r\n        } else {\r\n            confirm_msg = '确认要' + html;\r\n        }\r\n        if (data.set_array['charge'] > 0) {\r\n            confirm_msg += ' 扣除手续费 ' + data.deductionmoney + ' 元,实际到账金额 ' + data.realmoney + ' 元';\r\n        }\r\n\r\n        core.confirm(confirm_msg, function () {\r\n            $this.setData({isSubmit: true});\r\n            core.post('commission/apply', postData, function (result) {\r\n                if(result.error){\r\n                    foxui.toast($this, result.message);\r\n                    $this.setData({isSubmit: false});\r\n                    return;\r\n                }\r\n                foxui.toast($this, \"提现申请成功，请等待审核\");\r\n                setTimeout(function () {\r\n                    wx.navigateBack();\r\n                }, 500);\r\n            },true,true);\r\n        });\r\n    }\r\n});","/**\r\n *\r\n * commission/withdraw/index.js\r\n *\r\n * @create 2017-2-6\r\n * @author Young\r\n *\r\n * @update  Young 2017-2-6\r\n *\r\n */\r\nvar app = getApp(), core = app.requirejs('core');\r\nPage({\r\n    data: {\r\n        code: 0\r\n    },\r\n    onShow: function () {\r\n        this.getData();\r\n        var isIpx = app.getCache('isIpx');\r\n        var $this = this;\r\n        if (isIpx) {\r\n          $this.setData({\r\n            isIpx: true,\r\n            iphonexnavbar: 'fui-iphonex-navbar',\r\n            paddingb: 'padding-b'\r\n          })\r\n        } else {\r\n          $this.setData({\r\n            isIpx: false,\r\n            iphonexnavbar: '',\r\n            paddingb: ''\r\n          })\r\n        }\r\n    },\r\n    getData: function () {\r\n        var $this=this;\r\n        core.get('commission/withdraw',{},function (json) {\r\n            json.show=true;\r\n            $this.setData(json);\r\n            wx.setNavigationBarTitle({\r\n              title: json.set.texts.commission1\r\n            })\r\n        });\r\n    },\r\n    toggleSend: function (e) {\r\n        var send = e.currentTarget.dataset.id;\r\n        if (send == 0) {\r\n            this.setData({code: 1});\r\n        } else {\r\n            this.setData({code: 0});\r\n        }\r\n    },\r\n    withdraw: function (e) {\r\n        var data=this.data;\r\n        if (data.cansettle){\r\n            wx.navigateTo({\r\n                url: '../apply/index'\r\n            });\r\n        }\r\n    }\r\n});","/**\r\n *\r\n * commission/down/index.js\r\n *\r\n * @create 2017-02-09\r\n * @author 晚秋\r\n *\r\n * @update  晚秋 2017-02-09\r\n *\r\n */\r\nvar app = getApp(), core = app.requirejs('core');\r\n\r\nPage({\r\n    data: {\r\n        status: '',\r\n        page: 1,\r\n        list: []\r\n    },\r\n    onLoad: function () {\r\n        this.getList();\r\n    },\r\n    onReachBottom: function () {\r\n        if (this.data.loaded || this.data.list.length==this.data.total) {\r\n            return;\r\n        }\r\n        this.getList();\r\n    },\r\n    onPullDownRefresh: function () {\r\n        wx.stopPullDownRefresh()\r\n    },\r\n    toggleSend: function (e) {\r\n        if(!this.data.openorderdetail&&!this.data.openorderbuyer){\r\n            return;\r\n        }\r\n        var index = e.currentTarget.dataset.index;\r\n        var code = this.data.list[index].code;\r\n        var list = this.data.list;\r\n        if (code==1) {\r\n            list[index].code = 0;\r\n        } else {\r\n            list[index].code = 1;\r\n        }\r\n        this.setData({list: list});\r\n    },\r\n    getList: function () {\r\n        var $this = this;\r\n        core.get('commission/order/get_list', {page: $this.data.page, status: $this.data.status}, function (ret) {\r\n            delete ret.error;\r\n            var data = ret;\r\n            data.show = true;\r\n            if (ret.list.length > 0) {\r\n                data.page = $this.data.page + 1;\r\n                data.list = $this.data.list.concat(ret.list);\r\n                if(ret.list.length<ret.pagesize) {\r\n                    data.loaded = true\r\n                }\r\n            }\r\n            $this.setData(data);\r\n            wx.setNavigationBarTitle({title: ret.textorder});\r\n        }, this.data.show);\r\n    },\r\n    myTab: function (e) {\r\n        var $this = this;\r\n        var status = core.pdata(e).status;\r\n        $this.setData({status: status, page: 1, list: []});\r\n        $this.getList();\r\n    }\r\n})","/**\r\n *\r\n * commission/register/index.js\r\n *\r\n * @create 2017-2-6\r\n * @author Young\r\n *\r\n * @update  Young 2017-2-6\r\n *\r\n */\r\nvar app = getApp(), core = app.requirejs('core');\r\nvar diyform = app.requirejs('biz/diyform');\r\nPage({\r\n    data: {\r\n        areas: [],\r\n    },\r\n    onLoad: function (options) {\r\n      var $this = this\r\n      setTimeout(function () {\r\n          $this.setData({ areas: app.getCache(\"cacheset\").areas });\r\n      }, 300)\r\n      app.checkAuth();\r\n      $this.setData({ options: options });\r\n    },\r\n    onShow: function () {\r\n        this.getData();\r\n    },\r\n    getData: function () {\r\n        var $this = this;\r\n        core.get('commission/register', {}, function (json) {\r\n            if (json.error == 70003){\r\n                wx.redirectTo({\r\n                    url:'../index'\r\n                });\r\n                return;\r\n            }\r\n            json.show = true;\r\n            wx.setNavigationBarTitle({\r\n                title: \"申请成为\"+json.set.texts.agent||'申请'\r\n            });\r\n            $this.setData(json);\r\n            $this.setData({\r\n              diyform: {\r\n                f_data: json.f_data,\r\n                fields: json.fields\r\n              }});\r\n        \r\n        });\r\n    },\r\n    inputChange: function (e) {\r\n        if (e.target.id == 'realname') {\r\n            this.setData({'member.realname': e.detail.value})\r\n        } else if (e.target.id == 'mobile') {\r\n            this.setData({'member.mobile': e.detail.value})\r\n        } else if (e.target.id == 'weixin') {\r\n            this.setData({'member.weixin': e.detail.value})\r\n        } else if (e.target.id == 'icode'){\r\n          this.setData({ 'member.icode': e.detail.value })\r\n        }\r\n    },\r\n    submit: function (e) {\r\n    \r\n      if ( this.data.template_flag == 0){\r\n        if (!this.data.member.realname) {\r\n          core.alert('请填写,真实姓名!');\r\n          return;\r\n        }\r\n        if (!this.data.member.mobile) {\r\n          core.alert('请填写,手机号!');\r\n          return;\r\n        }\r\n        var data = {\r\n          'realname': this.data.member.realname,\r\n          'mobile': this.data.member.mobile,\r\n        };\r\n      }else{\r\n        var memberdata = this.data.diyform;\r\n        var verify = diyform.verify(this, memberdata);\r\n        if (!verify) {\r\n          core.alert('请检查必填项是否填写');\r\n          return;\r\n        }\r\n\r\n        var data = {\r\n          'memberdata': this.data.diyform.f_data,\r\n          'agentid': this.data.mid,\r\n          'icode': this.data.member.icode,\r\n          'weixin': this.data.member.weixin,\r\n        }\r\n      }\r\n      \r\n        core.post('commission/register', data, function (json) {\r\n            if (json.error == 0){\r\n                wx.redirectTo({\r\n                    url:json.check==1?'../index':'../register/index',\r\n                    fail: function () {\r\n                      wx.switchTab({\r\n                        url: json.check == 1 ? '../index' : '../register/index'\r\n                      })\r\n                    }\r\n                });\r\n                return;\r\n            }else{\r\n                core.alert(json.message)\r\n            }\r\n        });\r\n    },\r\n    DiyFormHandler: function (e) {\r\n      return diyform.DiyFormHandler(this, e)\r\n    },\r\n    selectArea: function (e) {\r\n        return diyform.selectArea(this, e)\r\n    },\r\n    bindChange: function (e) {\r\n        return diyform.bindChange(this, e)\r\n    },\r\n    onCancel: function (e) {\r\n        return diyform.onCancel(this, e)\r\n    },\r\n    onConfirm: function (e) {\r\n        return diyform.onConfirm(this, e)\r\n    },\r\n    getIndex: function (str, areas) {\r\n        return diyform.getIndex(str, areas)\r\n    },\r\n});","/**\r\n *\r\n * commission/return/index.js\r\n *\r\n * @create 2017-11-29\r\n * @author AHa\r\n *\r\n *\r\n */\r\nvar app = getApp(),core=app.requirejs('core');\r\n\r\nPage({\r\n    data: {\r\n        type: 0,\r\n        page: 1,\r\n        list: []\r\n    },\r\n    onLoad: function () {\r\n        this.getList();\r\n    },\r\n    onReachBottom: function () {\r\n        if (this.data.loaded || this.data.list.length==this.data.total) {\r\n            return;\r\n        }\r\n        this.getList();\r\n    },\r\n    onPullDownRefresh: function () {\r\n        wx.stopPullDownRefresh()\r\n    },\r\n    getList: function () {\r\n        var $this = this;\r\n        core.get('member.fullback.get_list', {page: $this.data.page, type: $this.data.type}, function (ret) {\r\n      \r\n            var data = {total: ret.total, pagesize: ret.pagesize, list: ret.list, show: true};\r\n            if (ret.list.length > 0) {\r\n                data.page = $this.data.page + 1;\r\n                data.list = $this.data.list.concat(ret.list);\r\n                if(ret.list.length<ret.pagesize) {\r\n                    data.loaded = true\r\n                }\r\n            }\r\n            $this.setData(data);\r\n        });\r\n      core.get('member.fullback.get_all', {}, function (ret) {\r\n        if (ret.info.day !==false){\r\n          $this.setData({\r\n            info: ret.info\r\n          });\r\n        }else{\r\n          $this.setData({\r\n            info: false\r\n          });\r\n        }\r\n      });\r\n    },\r\n    myTab: function (e) {\r\n        var $this = this;\r\n      \r\n        var type = e.currentTarget.dataset.type;\r\n        $this.setData({type: type, page: 1, list: []});\r\n        $this.getList()\r\n    }\r\n})"]}